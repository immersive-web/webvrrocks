@import 'system-font'
@import 'monospace-font'
@import 'settings'
@import 'syntax'
@import 'grid'
@import 'hamburgers'
@import 'features/index'

// global

*,
*:before,
*:after
  box-sizing border-box

*
  margin 0
  padding 0

html,
body
  background-color color-white

html
  font-size 14px

body
  font 1rem/1.5 font-body
  color color-text
  font-size 1.1rem
  margin 0
  padding 0

a
  color color-link
  transition .15s all ease-in-out

a:visited
  color color-link-visited

a:active
  color color-link-active

a:hover
  color color-link-hover

ol
  counter-reset item

li
  display block

  &:before
    color rgba(0,0,0,.25)
    display inline-block

ol,
ul
  li:before
    display inline-block
    position absolute
    margin-left -4ch
    margin-right 1ch
    padding-right 0
    text-align right
    width 3ch

  li + li
    margin-top .25rem

ol > li:before
  content counters(item, '.') '. '
  counter-increment item

ul li:before
  content '●'

ul ul li:before
  content '○'

ul.nav-list
  li:before
    display none

h1,
h2,
h3,
h4,
h5,
h6
  font-family font-fancy

  a
    display block
    text-decoration none

h1,
h1 a,
h1 a:hover,
h1 a:target
  color color-branding-primary

h2,
h2 a,
h2 a:hover,
h2 a:visited
  color color-text

h2:target
  a,
  a:hover,
  a:visited
    color color-black

h2:target,
h2:target:hover
  border-bottom-color color-black

h3,
h3 a,
h3 a:hover
  color #666
  font-size 1.5rem

.highlight
  margin-bottom 16px

code,
pre
  font-family font-code
  font-size 1rem

h1,
h2,
h3,
h4,
h5,
h6
  code,
  pre
    font-size 1em

pre
  background-color rgba(0,0,0,.05)
  border-radius 3px
  line-height 1.45
  margin 0
  overflow auto
  padding 10px
  word-break normal
  word-wrap normal

  pre
    background none

.highlight pre
  padding padding-content

dl,
dt,
li,
p
  code
    background #f4f4f4
    border-radius 3px
    font-size .9rem
    margin 0 2px
    padding 3px 5px

/*main*/.main
  .body-wrapper
    display flex
    flex-direction column

  .body
    flex 1
    > *:first-child
      margin-top 0

    > *:last-child
      margin-bottom 0

  blockquote,
  dl,
  fieldset,
  h2,
  h3,
  h4,
  h5,
  h6,
  ol,
  p,
  ul,
  .list-item,
  .highlight
    margin padding-content
    max-width width-venti

  dl,
  ol,
  ul
    margin-left (padding-content + 2.5)rem

    li > *
      margin padding-content-half 0

    dl,
    ol,
    ul
      margin-left padding-content

  h1
    font-weight 600
    line-height 1.3
    margin-bottom (padding-content-int * 1.5)rem
    padding padding-content-half padding-content

    a
      border 0
      margin-left -(padding-content-int)rem
      margin-right -(padding-content-int)rem
      padding 0 padding-content
      &:hover
        color color-link-bright

  h2,
  h3,
  h4,
  h5,
  h6
    font-weight 400
    margin-bottom 1.5rem

  h2
    font-weight 500

  h2,
  h3,
  h4,
  h5,
  h6
    border-bottom 1px solid #eee

    &:hover
      border-bottom-color #ddd
    a
      padding-bottom .5rem

/*html*/[data-current-layout="copy"]
  /*main*/.main
    h2,
    h3,
    h4,
    h5,
    h6
      margin-top 2.5rem

.nav-item-page-anchor-selected
  color color-white
  font-weight 600
  opacity 1
  transition all 0s

.nav
  @extend .fancy-font
  background color-branding-primary
  overflow hidden
  transition-delay .2s
  width 100%
  position fixed
  z-index z-index-nav

.nav,
.main
  transition width .4s, height .4s, opacity .4s, transform .4s
  transition-timing-function cubic-bezier(.7,0,.3,1)

  /*div*/.rocks-logo
    display none

.nav,
.nav > *
  @extend .disappear

[data-nav-open="true"]
  body
    overflow-y hidden

  .main
    opacity .1
    pointer-events none
    transition-delay 0s
    transform translate3d(0,400px,0)

  .nav,
  .nav > *
    @extend .reappear

  .nav
    overflow-y auto
    transform translate3d(0,nav-height,0)
    // transition-delay 0s
    a
      opacity 1
      transition opacity .4s .4s

  /*a*/.nav-toggle
    padding-right 2.1rem

  ul.nav-social-list
    justify-content center
    padding padding-content

/*header*/.rocks-header
  background color-white
  display flex
  height height-header-small
  align-items center
  padding 1.5rem
  width 100%

/*h1*/.rocks-logo
  color color-branding-primary
  font-size 1.5rem
  font-weight 600
  width 100%
  width calc(100% - 60px)

/*a*/.rocks-link
  align-items center
  display flex
  height 100%
  width 100%

/*strong*/.rocks-wordmark-webvr
  color color-branding-primary

/*span*/.rocks-wordmark-rocks
  color color-black

/*svg*/.rocks-icon
  height auto
  margin-right 1rem

  path
    fill color-branding-primary

/*a*/.nav-toggle
  outline unset
  padding padding-content padding-content .5rem
  position absolute
  right 0
  top 0
  z-index z-index-nav-toggle

/*span*/.nav-toggle-text
  @extend .hidden-text

/*li*/.nav-item-page
  margin 0
  display flex
  justify-content center
  a
    color color-white-soft
    font-size 1.2rem
    font-weight 500
    padding 1rem padding-content
    text-align left
    text-decoration none

  &:hover
    color color-white

  &:active,
  &.active
    @extend .nav-item-page-anchor-selected


/*div*/.content
  background color-white
  position relative
  width 100%

  .main
    position relative


[data-current-path^="/directory"],
[data-current-path^="/assets"]
  .main
    max-width 1000px

  &[data-qs-headset*="vive"] .list-item:not([data-support-for-htc-vive="yes"]):not([data-requires-for-htc-vive="yes"]),
  &[data-qs-supports*="vive"] .list-item:not([data-support-for-htc-vive="yes"]),
  &[data-qs-requires*="vive"] .list-item:not([data-requires-for-htc-vive="yes"]),

  &[data-qs-headset*="rift"] .list-item:not([data-support-for-oculus-rift="yes"]):not([data-requires-for-oculus-rift="yes"]),
  &[data-qs-supports*="rift"] .list-item:not([data-support-for-oculus-rift="yes"]),
  &[data-qs-requires*="rift"] .list-item:not([data-requires-for-oculus-rift="yes"]),

  &[data-qs-headset*="gear"] .list-item:not([data-support-for-samsung-gear-vr="yes"]):not([data-requires-for-samsung-gear-vr="yes"]),
  &[data-qs-supports*="gear"] .list-item:not([data-support-for-samsung-gear-vr="yes"]),
  &[data-qs-requires*="gear"] .list-item:not([data-requires-for-samsung-gear-vr="yes"]),

  &[data-qs-headset*="osvr"] .list-item:not([data-support-for-osvr="yes"]):not([data-requires-for-osvr="yes"]),
  &[data-qs-supports*="osvr"] .list-item:not([data-support-for-osvr="yes"]),
  &[data-qs-requires*="osvr"] .list-item:not([data-requires-for-osvr="yes"]),

  &[data-qs-browser*="firefox"] .list-item:not([data-support-for-firefox-desktop="yes"]):not([data-requires-for-firefox-desktop="yes"]),
  &[data-qs-supports*="firefox"] .list-item:not([data-support-for-firefox-desktop="yes"]),
  &[data-qs-requires*="firefox"] .list-item:not([data-requires-for-firefox-desktop="yes"]),

  &[data-qs-browser*="chromium"] .list-item:not([data-support-for-chromium-desktop="yes"]):not([data-requires-for-chromium-desktop="yes"]),
  &[data-qs-supports*="chromium"] .list-item:not([data-support-for-chromium-desktop="yes"]),
  &[data-qs-requires*="chromium"] .list-item:not([data-requires-for-chromium-desktop="yes"]),

  &[data-qs-browser*="chrome"] .list-item:not([data-support-for-chromium-desktop="yes"]):not([data-requires-for-chromium-desktop="yes"]),
  &[data-qs-supports*="chrome"] .list-item:not([data-support-for-chromium-desktop="yes"]),
  &[data-qs-requires*="chrome"] .list-item:not([data-requires-for-chromium-desktop="yes"]),

  &[data-qs-browser*="chrome"] .list-item:not([data-support-for-chrome-desktop="yes"]):not([data-requires-for-chrome-desktop="yes"]),
  &[data-qs-supports*="chrome"] .list-item:not([data-support-for-chrome-desktop="yes"]),
  &[data-qs-requires*="chrome"] .list-item:not([data-requires-for-chrome-desktop="yes"]),

  &[data-qs-browser*="samsung"] .list-item:not([data-support-for-samsung-internet-browser-for-gear-vr="yes"]):not([data-requires-for-samsung-internet-browser-for-gear-vr="yes"]),
  &[data-qs-supports*="samsung"] .list-item:not([data-support-for-samsung-internet-browser-for-gear-vr="yes"]),
  &[data-qs-requires*="samsung"] .list-item:not([data-requires-for-samsung-internet-browser-for-gear-vr="yes"]),

  &[data-qs-browser*="carmel"] .list-item:not([data-support-for-oculus-carmel="yes"]):not([data-requires-for-oculus-carmel="yes"]),
  &[data-qs-supports*="carmel"] .list-item:not([data-support-for-oculus-carmel="yes"]),
  &[data-qs-requires*="carmel"] .list-item:not([data-requires-for-oculus-carmel="yes"]),

  &[data-qs-browser*="cardboard"] .list-item:not([data-support-for-google-cardboard="yes"]):not([data-requires-for-google-cardboard="yes"]),
  &[data-qs-supports*="cardboard"] .list-item:not([data-support-for-google-cardboard="yes"]),
  &[data-qs-requires*="cardboard"] .list-item:not([data-requires-for-google-cardboard="yes"]),

  &[data-qs-browser*="daydream"] .list-item:not([data-support-for-google-daydream="yes"]):not([data-requires-for-google-daydream="yes"]),
  &[data-qs-supports*="daydream"] .list-item:not([data-support-for-google-daydream="yes"]),
  &[data-qs-requires*="daydream"] .list-item:not([data-requires-for-google-daydream="yes"])
    display none

[data-current-path="/"] nav a[href="/"],
[data-current-path^="/getting-started"]:not([data-current-path^="/getting-started/troubleshooting"]) nav a[href^="/getting-started"]:not([href^="/getting-started/troubleshooting"]),
[data-current-path^="/browsers"]:not([data-current-path^="/browsers/changelog"]) nav a[href^="/browsers"]:not([href^="/browsers/changelog"]),
[data-current-path^="/browsers/changelog"] nav a[href^="/browsers/changelog"],
[data-current-path^="/headsets"] nav a[href^="/headsets"],
[data-current-path^="/getting-started/troubleshooting"] nav a[href^="/getting-started/troubleshooting"],
[data-current-path^="/directory"] nav a[href^="/directory"],
[data-current-path^="/assets"] nav a[href^="/assets"],
[data-current-path^="/creating"] nav a[href^="/creating"],
[data-current-path^="/community"] nav a[href^="/community"],
[data-current-path^="/spec"] nav a[href^="/spec"],
[data-current-path^="/contributing"] nav a[href^="/contributing"],
[data-current-path^="/rocks/about"] nav a[href^="/rocks/about"]
  @extend .nav-item-page-anchor-selected

/*ul*/.nav-social-list
  font-size 0
  display flex

ul.nav-social-list
  //padding padding-content padding-content .5rem
  padding 0 padding-content 0 0
  display flex
  align-items center

.nav-item-social
  margin 0
  + .nav-item-social
    margin-left 2rem

.social-link
  svg
    height 20px
    transition .15s transform ease-in-out
    transform scale(1)
    width 20px
  path
    fill color-white-soft
    transition .15s fill ease-in-out
  &:hover
    path
      fill color-white
    svg
      transform scale(1.2)

.edit-page-link
  display block
  font-size .9rem
  line-height github-repo-size-with-units
  min-height github-repo-size-with-units
  opacity .4
  &:hover
    opacity .8

.github-edit-page-link
  background url(/img/github-octocat.svg) no-repeat
  background-size github-repo-size-with-units auto
  display block
  line-height github-repo-size-with-units
  min-height github-repo-size-with-units
  padding-left (github-repo-size + github-repo-padding)px
  z-index z-index-github-repo-link

.page-footer .edit-options
  border-top 1px dotted #eee
  margin-top padding-content
  padding-bottom padding-content
  padding-left padding-content
  padding-top padding-content-double

.nav-footer
  background #efefef

.nav-footer-list
  padding padding-content
  li
    margin 0
    display inline

/*li*/.nav-footer-item a
  font-size 1.2rem
  line-height 1.5
  font-weight 500
  padding-right padding-content
  text-align left
  text-decoration none
  white-space nowrap

  &:hover
    color color-black

.date-published
  color color-text-lighter
  font-family font-code
  font-size .8rem
  padding padding-content-half padding-content

.page__publish-date
  font-weight 600

img
  display block
  max-width 100%

hr
  background none
  border none
  border-top 1px dotted #eee
  height 0

.directory-container
  margin padding-content-double 0

ul.directory-list
  margin-left 0

.directory-list li:before
  content ""

.directory-item
  + .directory-item
    margin-top 2rem

.directory-anchor
  border 0
  text-decoration none

  img
    display block
    margin-bottom .5rem
    max-width 400px
    transition .15s opacity ease-in-out
    opacity .8

  &:hover
    img
      opacity 1

.list-item
  border .25rem solid color-black
  box-shadow .25rem .25rem color-text-light
  position relative

.list-item + .list-item
  margin-top 2.5rem

a.list-item-link
  color color-text-darker
  display flex
  padding 1rem
  text-decoration none

  &:hover
    color color-link

.list-item-name
  flex 1
  font-size 1.5rem
  font-weight 400
  padding-right .75rem
  width 30%

.list-item-screenshots
  flex 1
  padding-left .75rem
  width 40%

.list-item-screenshot
  display block

.list-item-screenshot ~ .list-item-screenshot
  display none

a.list-item-source-code-url,
a.list-item-video-link,
a.list-item-text-link
  color color-text-light
  display block
  font-size .9rem
  padding 0 1.5rem 1.5rem

  &:hover
    color color-link

a.list-item-source-code-url.github-edit-page-link
  background-position 1.5rem 0
  padding-left 3.5rem
  padding-bottom 0
  margin-bottom 1.5rem

a.list-item-video-link
  font-size .8rem
  padding-top .75rem

.list-item-video-wrap
  margin-top .75rem
  position relative
  padding-bottom 56.25%  /* 16:9 */
  height 0

  iframe
    height 300px
    position absolute
    top 0
    left 0
    width 100%
    height 100%
    width 100%

.list-item-description
  color color-text-light
  display block
  flex 2
  min-width 30%
  padding-left 1.5rem

  > *:first-child
    margin-top 0

  > *:last-child
    margin-bottom 0

.directory-form
  label
    display block

    + label
      margin-top .5rem

    .label-text
      display inline-block
      min-width 5rem

fieldset
  border 6px solid lighten(color-main, 25%)
  padding .75rem

legend
  background color-main
  color color-text-darker
  font-weight 600
  padding 0 1rem

.btn,
.btn:visited
  color color-white

.btn
  background linear-gradient(#5fddff, #53addf)
  border-bottom 5px solid steelblue
  border-left none
  border-radius 10px
  border-right none
  border-top none
  box-shadow 0 2px 2px #ccc
  cursor pointer
  display inline-block
  font-family inherit
  font-size 1rem
  font-weight 600
  height 4rem
  line-height 4rem
  max-width 500px
  opacity .8
  outline none
  padding 0 2rem
  position relative
  text-decoration none
  transition 150ms ease-inout

  &:hover
    opacity .9

  &:active
    border none
    border-bottom 2px solid steelblue
    box-shadow 0 1px 4px #aaa
    background linear-gradient(#53aff, #5fcdff)
    color color-white
    line-height 4.35rem
    opacity 1

ul.asset-files-list
  background rgba(255,255,255,0.1)
  box-shadow 0 10px 20px inset red
  font-family font-code
  font-size 1rem
  margin-top 2rem

  &:empty
    display none

  li + li
    margin-top 0.75rem

  a
    border-bottom 1px dashed rgba(255,255,255,.4)

    &:hover
      border-bottom-color rgba(255,255,255,.8)

.uploadcare-widget
  display none

// TODO: Remove when https://github.com/zeke/jus/issues/36 is fixed.
#__bs_notify__
  display none !important

@media screen and (min-width: width-grande)
  /*li*/.nav-item-page a
    font-weight 400
    padding-top .75rem
    padding-bottom .75rem

  .nav-item-page-anchor-selected
    font-weight 500

@media screen and (min-width: width-venti)
  body
    display flex
    flex-direction column
    flex-wrap wrap
    justify-content space-between

  .main
    max-width content-width
    margin auto
    padding-top nav-height

    /*div*/.rocks-logo
      display block
    .body-wrapper
      flex-direction row

  .content
    flex 3
    > .rocks-header
      display none

  /*div*/.content-width-wrapper
    max-width content-width
    width 100%
    margin auto
    display flex

  .copy
    max-width width-venti

  /*a*/.nav-toggle
    display none

  .nav,
  .nav > *
    opacity 1
    pointer-events auto
    visibility visible

  /*nav*/.nav
    height auto
    display flex

    .nav-pages
      flex 1
      display flex
      flex-direction rows

  /*li*/.nav-item-page a
    padding-top 1rem
    padding-bottom 1rem

  /*header*/.rocks-header
    flex-direction column
    height height-header-venti
    justify-content center
    padding 1.5rem
    text-align center

  /*div*/.rocks-logo
    padding-top padding-content
    text-align center
    font-size 3rem
    width 100%

  /*a*/.rocks-link
    flex-direction column

  /*span*/.rocks-wordmark
    margin-top 1rem

  /*svg*/.rocks-icon
    display block
    margin auto
    height 120px
